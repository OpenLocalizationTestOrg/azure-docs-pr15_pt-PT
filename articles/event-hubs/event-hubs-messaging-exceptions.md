<properties 
    pageTitle="Evento concentradores mensagens exceções | Microsoft Azure"
    description="Lista de Azure evento concentradores mensagens exceções e ações sugeridas."
    services="event-hubs"
    documentationCenter="na"
    authors="sethmanheim"
    manager="timlt"
    editor="" />
<tags 
    ms.service="event-hubs"
    ms.devlang="na"
    ms.topic="article"
    ms.tgt_pltfrm="na"
    ms.workload="na"
    ms.date="10/14/2016"
    ms.author="sethm" />

# <a name="event-hubs-messaging-exceptions"></a>Evento concentradores exceções de mensagens

Este artigo lista algumas exceções geradas pelo Azure Service Bus mensagens APIs. Este conjunto de API inclui concentradores do evento. Esta referência está sujeito a alterações, pelo que deve verificar existência de atualizações.

## <a name="exception-categories"></a>Categorias de exceção

As mensagens APIs geram exceções que podem abrange as seguintes categorias, juntamente com a ação associada que pode tomar para corrigi-los. Tenha em atenção que o significado e as causas de uma exceção podem variar dependendo do tipo de mensagens entidade (estações de retransmissão, filas/tópicos, evento concentradores):

1.  Utilizador codificação de erro ([System. ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx), [System.InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx), [System.OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx), [System.Runtime.Serialization.SerializationException](https://msdn.microsoft.com/library/system.runtime.serialization.serializationexception.aspx)). Ação geral: tentar corrigir o código antes de continuar.

2.  Erro de configuração / ([Microsoft.ServiceBus.Messaging.MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx), [System.UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx). Ação geral: rever a sua configuração e alterar se for necessário.

3.  Exceções breves ([Microsoft.ServiceBus.Messaging.MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx), [Microsoft.ServiceBus.Messaging.ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx), [Microsoft.ServiceBus.Messaging.MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)). Ação geral: Repetir a operação ou notificar os utilizadores.

4.  Outros exceções ([System.Transactions.TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx), [System.TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx), [Microsoft.ServiceBus.Messaging.MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx), [Microsoft.ServiceBus.Messaging.SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)). Ação geral: específicas para o tipo de exceção; consulte a tabela na secção seguinte. 

## <a name="exception-types"></a>Tipos de exceção

A tabela seguinte lista os tipos de exceção mensagens e os respetivos causas e ação sugerida notas que pode tomar.

| **Tipo de exceção**                                                                                                                                                                                                                                                                                | **Descrição/causa/exemplos**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | **Ação sugerida**                                                                                                                                                                                                                                                                                                                                                                                                          | **Nota sobre a repetir automático imediata**                                                                                             |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------|
| [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx)                                                                                                                                                                                                           | O servidor não respondeu para a operação pedida no período de tempo especificado, que é controlada pelo [OperationTimeout](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactorysettings.operationtimeout.aspx). O servidor poderá ter concluído a operação pedida. Isto pode acontecer devido a ou outros atrasos de infraestrutura de rede.                                                                                                                                                                                                                                                                   | Verificar o estado do sistema para consistência e volte a tentar se for necessário.                                                                                                                                                                                                                                                                                                                                                            | Repetir poderão ajudar em alguns casos; Adicione lógica de repetir a código.                                                                      |
| [InvalidOperationException](https://msdn.microsoft.com/library/system.invalidoperationexception.aspx)                                                                                                                                                                                         | A operação de utilizador pedidas não é permitida no servidor ou serviço. Ver a mensagem de exceção para obter detalhes. Por exemplo, [concluída](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.brokeredmessage.complete.aspx) gera esta exceção se a mensagem foi recebida no modo de **ReceiveAndDelete** .                                                                                                                                                                                                                                                                                                     | Verificar o código e a documentação. Certificar-se de que a operação solicitada é válida.                                                                                                                                                                                                                                                                                                                                         | Repetir não irá ajudar.                                                                                                          |
| [OperationCanceledException](https://msdn.microsoft.com/library/system.operationcanceledexception.aspx)                                                                                                                                                                                       | Uma tentativa para invocar uma operação um objeto que já foi fechado, interrompida ou eliminada. Em casos raros, a transação ambiente já é eliminada.                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Verifique o código e certifique-se de que não invocar operações num objeto eliminado.                                                                                                                                                                                                                                                                                                                                          | Repetir não irá ajudar.                                                                                                          |
| [UnauthorizedAccessException](https://msdn.microsoft.com/library/system.unauthorizedaccessexception.aspx)                                                                                                                                                                                     | O objeto [TokenProvider](https://msdn.microsoft.com/library/azure/microsoft.servicebus.tokenprovider.aspx) não foi possível obter um token, o token é inválido ou o token não contém as afirmações necessárias para executar a operação.                                                                                                                                                                                                                                                                                                                                                                                                  | Certifique-se de que o fornecedor de tokens é criado com os valores corretos. Verifique a configuração do serviço do controlo de acesso.                                                                                                                                                                                                                                                                                                   | Repetir poderão ajudar em alguns casos; Adicione lógica de repetir a código.                                                                      |
| [ArgumentException](https://msdn.microsoft.com/library/system.argumentexception.aspx)<br /> [ArgumentNullException](https://msdn.microsoft.com/library/system.argumentnullexception.aspx)<br />[ArgumentOutOfRangeException](https://msdn.microsoft.com/library/system.argumentoutofrangeexception.aspx) | Um ou mais argumentos fornecidos para o método são inválidos. O URI fornecido para [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) ou [Criar](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) contém segment(s) do caminho. O esquema de URI fornecido para [NamespaceManager](https://msdn.microsoft.com/library/azure/microsoft.servicebus.namespacemanager.aspx) ou [Criar](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingfactory.create.aspx) é inválido. O valor da propriedade é maior do que 32KB. | Verifique o código de chamada e certifique-se que os argumentos estão corretos.                                                                                                                                                                                                                                                                                                                                                           | Repetir não irá ajudar.                                                                                                          |
| [MessagingEntityNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitynotfoundexception.aspx)                                                                                                                                             | Entidade associada a operação não existir ou foi eliminada.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Certifique-se da que entidade existir.                                                                                                                                                                                                                                                                                                                                                                                              | Repetir não irá ajudar.                                                                                                          |
| [MessageNotFoundException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagenotfoundexception.aspx)                                                                                                                                                             | Tentativa para receber uma mensagem com um número de sequência específica. Esta mensagem não foi encontrada.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Certifique-se que a mensagem já não foi recebida. Verifique as mensagens não entregues fila de espera para ver se a mensagem foi deadlettered.                                                                                                                                                                                                                                                                                              | Repetir não irá ajudar.                                                                                                          |
| [MessagingCommunicationException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingcommunicationexception.aspx)                                                                                                                                               | Cliente não é possível estabelecer uma ligação a concentrador de evento.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Certifique-se o nome do anfitrião fornecido está correto e o anfitrião está acessível.                                                                                                                                                                                                                                                                                                                                                    | Repetir pode ajudá-se existirem problemas de conectividade intermitente.                                                               |
| [ServerBusyException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.serverbusyexception.aspx)                                                                                                                                                                       | Serviço não é possível processar o pedido, neste momento.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Cliente pode esperar durante um período de tempo, em seguida, repita a operação.                                                                                                                                                                                                                                                                                                                                                           | Após determinado intervalo, o cliente poderá novamente. Se uma repetição resulta numa exceção diferente, consulte o comportamento de repetir desse exceção. |
| [MessageLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagelocklostexception.aspx)                                                                                                                                                             | Bloquear token associado à mensagem expirou ou não for encontrado o token de bloqueio.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | Dispor a mensagem.                                                                                                                                                                                                                                                                                                                                                                                                      | Repetir não irá ajudar.                                                                                                          |
| [SessionLockLostException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessionlocklostexception.aspx)                                                                                                                                                             | Bloquear associado a esta sessão é perdida.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Interromper o objeto [MessageSession](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesession.aspx) .                                                                                                                                                                                                                                                                                           | Repetir não irá ajudar.                                                                                                          |
| [MessagingException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.aspx)                                                                                                                                                                         | Genérico mensagens exceção que pode ser iniciada nos casos seguintes: uma tentativa é efetuada para criar um [QueueClient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.queueclient.aspx) utilizando um nome ou o caminho que pertence a um tipo de entidade diferente (por exemplo, um tópico). Uma tentativa para enviar uma mensagem com mais de 256KB. O servidor ou serviço encontrou um erro durante o processamento do pedido. Consulte o artigo a mensagem de exceção para obter detalhes. Este nome costuma uma exceção breves.                                                                                                               | Verifique o código e certifique-se de que apenas os objetos serializáveis são utilizados para o corpo da mensagem (ou utilize um serializador personalizado). Consulte a documentação para os tipos de valor suportado das propriedades e apenas os tipos de utilização suportado. Verifique a propriedade [IsTransient](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingexception.istransient.aspx) . Se for **Verdadeiro**, pode repetir a operação. | Repetir comportamento é indefinido e não podem ser úteis.                                                                               |
| [MessagingEntityAlreadyExistsException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentityalreadyexistsexception.aspx)                                                                                                                                   | Tentativa para criar uma entidade com um nome que já está a ser utilizado por outra entidade no espaço de nomes nesse serviço.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Eliminar a entidade existente ou selecione um nome diferente para a entidade seja criada.                                                                                                                                                                                                                                                                                                                                       | Repetir não irá ajudar.                                                                                                          |
| [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx)                                                                                                                                                                 | A entidade mensagens atingiu o tamanho máximo permitido. Isto pode acontecer se o número máximo de destinatários (que for a 5) já tiver sido aberto num nível de grupo por consumidor.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | Crie espaço na entidade ao receber mensagens do seus filas subpastas ou a entidade.                                                                                                                                                                                                                                                                                                                                       | Repetir pode ajudá-se mensagens foram removidas entretanto.                                                           
|
| [SessionCannotBeLockedException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.sessioncannotbelockedexception.aspx)                                                                                                                                                 | Tentar aceitar uma sessão com um ID de sessão específicos, mas a sessão atualmente está bloqueada por outro cliente.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Certifique-se da que sessão é desbloqueada por outros clientes.                                                                                                                                                                                                                                                                                                                                                                       | Repetir pode ajudá-se a sessão foi lançada entretanto.                                                             |
| [TransactionSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.transactionsizeexceededexception_methods.aspx)                                                                                                                                     | As operações demasiadas são parte da transação.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Reduza o número de operações que fazem parte desta transação.                                                                                                                                                                                                                                                                                                                                                        | Repetir não irá ajudar.                                                                                                          |
| [MessagingEntityDisabledException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagingentitydisabledexception.aspx)                                                                                                                                             | Pedido de uma operação de runtime numa entidade desativada.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Ative a entidade.                                                                                                                                                                                                                                                                                                                                                                                                      | Repetir pode ajudá-se a entidade já foi ativada entretanto.                                                             |
| [MessageSizeExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.messagesizeexceededexception.aspx)                                                                                                                                                     | Uma carga útil mensagem excede o limite de 256K. Note que o limite de 256 k é o tamanho total da mensagem, que pode incluir propriedades do sistema e qualquer sobrecarga .NET.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | Reduzir o tamanho de carga de útil a mensagem e, em seguida, repita a operação.                                                                                                                                                                                                                                                                                                                                                         | Repetir não irá ajudar.                                                                                                          |
| [TransactionException](https://msdn.microsoft.com/library/system.transactions.transactionexception.aspx)                                                                                                                                                                                      | A transação ambiente (*Current*) é inválida. Pode ter sido concluída ou cancelada. Exceção interna pode fornecer informações adicionais.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                                                           | Repetir não irá ajudar.                                                                                                          | -
| [TransactionInDoubtException](https://msdn.microsoft.com/library/system.transactions.transactionindoubtexception.aspx)                                                                                                                                                                        | É tentada uma operação uma transação que está no caso de dúvida, ou uma tentativa para consolidar a transação e a transação torna-se tiver dúvidas.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | A aplicação deve processar esta exceção (como um caso especial), tal como a transação poderá já foram consolidada.                                                                                                                                                                                                                                                                                                      | -                                                                                                                              |

## <a name="quotaexceededexception"></a>QuotaExceededException

[QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx) indica que tenha sido ultrapassada uma quota para uma entidade específica.

Isto pode acontecer se o número máximo de destinatários (5) já tiver sido aberto num nível de grupo por consumidor.

### <a name="event-hubs"></a>Concentradores de evento

Evento concentradores tem um limite de 20 grupos consumidor por evento concentrador. Quando tenta criar mais, recebe uma [QuotaExceededException](https://msdn.microsoft.com/library/azure/microsoft.servicebus.messaging.quotaexceededexception.aspx). 

## <a name="timeoutexception"></a>TimeoutException 

Um [TimeoutException](https://msdn.microsoft.com/library/system.timeoutexception.aspx) indica que uma operação de iniciado pelo utilizador está a demorar mais de tempo limite da operação. 

### <a name="event-hubs"></a>Concentradores de evento

Para concentradores de evento, o limite de tempo é especificado como parte da cadeia de ligação, ou através de [ServiceBusConnectionStringBuilder](https://msdn.microsoft.com/library/azure/microsoft.servicebus.servicebusconnectionstringbuilder.aspx). A mensagem de erro propriamente dito pode variar, mas contém sempre o valor de tempo limite especificado para a operação atual. 

### <a name="common-causes"></a>Causas mais comuns

Existem duas causas comuns para este erro: configuração incorreta, ou um erro de serviço breves.

1. **Configuração incorreta** 
    o tempo limite da operação poderão ser demasiado pequeno para a condição operacional. O valor predefinido para o tempo limite da operação no cliente do SDK é 60 segundos. Verifique se o seu código tem o valor definido para algo demasiado pequeno. Tenha em atenção que a condição da rede e a utilização da CPU pode afetar o tempo necessário para uma operação específica concluir, para que o tempo limite da operação não deveria ser definido com um valor muito pequeno.

2. **Erro do serviço breves** 
    , por vezes, o serviço de evento concentradores pode ocorrer atrasos na processamento de pedidos; Por exemplo, durante períodos de tráfego alto. Nestes casos, pode repetir a operação após um atraso, até que a operação de é efetuada com êxito. Se continuar a mesma operação falhar após várias tentativas, visite o [site de estado do serviço Azure](https://azure.microsoft.com/status/) para ver se há qualquer falhas de serviço conhecido.

## <a name="next-steps"></a>Próximos passos

Para obter a referência Bus de serviço e evento concentradores .NET API completa, consulte o artigo [referência Azure no MSDN](https://msdn.microsoft.com/library/azure/mt419900.aspx).
